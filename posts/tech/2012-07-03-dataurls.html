<?xml version="1.0" encoding="iso-8859-1"?>
<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Strict//EN"
               "http://www.w3.org/TR/xhtml1/DTD/xhtml1-strict.dtd">
<html xmlns="http://www.w3.org/1999/xhtml" lang="en" xml:lang="en">
<head>
<title>---</title>
<meta http-equiv="Content-Type" content="text/html;charset=iso-8859-1"/>
<meta name="title" content="---"/>
<meta name="generator" content="Org-mode"/>
<meta name="generated" content="2012-07-03 20:04:17 EDT"/>
<meta name="author" content="Neil Smithline"/>
<meta name="description" content=""/>
<meta name="keywords" content=""/>
<style type="text/css">
 <!--/*--><![CDATA[/*><!--*/
  html { font-family: Times, serif; font-size: 12pt; }
  .title  { text-align: center; }
  .todo   { color: red; }
  .done   { color: green; }
  .tag    { background-color: #add8e6; font-weight:normal }
  .target { }
  .timestamp { color: #bebebe; }
  .timestamp-kwd { color: #5f9ea0; }
  .right  {margin-left:auto; margin-right:0px;  text-align:right;}
  .left   {margin-left:0px;  margin-right:auto; text-align:left;}
  .center {margin-left:auto; margin-right:auto; text-align:center;}
  p.verse { margin-left: 3% }
  pre {
	border: 1pt solid #AEBDCC;
	background-color: #F3F5F7;
	padding: 5pt;
	font-family: courier, monospace;
        font-size: 90%;
        overflow:auto;
  }
  table { border-collapse: collapse; }
  td, th { vertical-align: top;  }
  th.right  { text-align:center;  }
  th.left   { text-align:center;   }
  th.center { text-align:center; }
  td.right  { text-align:right;  }
  td.left   { text-align:left;   }
  td.center { text-align:center; }
  dt { font-weight: bold; }
  div.figure { padding: 0.5em; }
  div.figure p { text-align: center; }
  div.inlinetask {
    padding:10px;
    border:2px solid gray;
    margin:10px;
    background: #ffffcc;
  }
  textarea { overflow-x: auto; }
  .linenr { font-size:smaller }
  .code-highlighted {background-color:#ffff00;}
  .org-info-js_info-navigation { border-style:none; }
  #org-info-js_console-label { font-size:10px; font-weight:bold;
                               white-space:nowrap; }
  .org-info-js_search-highlight {background-color:#ffff00; color:#000000;
                                 font-weight:bold; }
  /*]]>*/-->
</style>
<script type="text/javascript">
<!--/*--><![CDATA[/*><!--*/
 function CodeHighlightOn(elem, id)
 {
   var target = document.getElementById(id);
   if(null != target) {
     elem.cacheClassElem = elem.className;
     elem.cacheClassTarget = target.className;
     target.className = "code-highlighted";
     elem.className   = "code-highlighted";
   }
 }
 function CodeHighlightOff(elem, id)
 {
   var target = document.getElementById(id);
   if(elem.cacheClassElem)
     elem.className = elem.cacheClassElem;
   if(elem.cacheClassTarget)
     target.className = elem.cacheClassTarget;
 }
/*]]>*///-->
</script>

</head>
<body>

<div id="preamble">

</div>

<div id="content">
<h1 class="title">---</h1>


---
layout:         post
title1:         "Data URIs For Images"
date:           2012-07-03 16:54
comments:       true
categories:     [tech,webapps]
published:      false
topic_title:    ''
topic_search:   ''
---



<div id="outline-container-1" class="outline-2">
<h2 id="sec-1">Data URIs</h2>
<div class="outline-text-2" id="text-1">

<p>If you write web code and don't know about <a href="http://bit.ly/KYNdbU">data URIs</a>, you are likely missing out on a useful piece of standard web technology. Data URIs are an <a href="http://www.ietf.org/IETF">IETF</a> <a href="http://bit.ly/KYN6gs">standard</a> that allows the embedding of binary data into HTML markup. While there are multiple ways they can be used, I find them most useful for small images.
</p>
<p>
When used appropriately, data URIs allow you to put images in a web page or an HTML email and be confident that they will be displayed. This includes displaying the image when:
</p><ul>
<li>it is being viewed in a browser where the user has disabled the loading of images.
</li>
<li>it is viewed in an email, independent of any image settings in the email client.
</li>
<li>the web page has been saved as a single HTML file and is later viewed when the computer is not connected to the internet.
</li>
</ul>


<p>
My primary use of data URIs is in my <a href="#site.url-assets-html-signature-with-data-uris.html">email signature</a>. The images in my signature are always displayed. Even when my signature is forwarded to someone else, the images are displayed.
</p>
</div>

</div>

<div id="outline-container-2" class="outline-2">
<h2 id="sec-2">Images Without The Network</h2>
<div class="outline-text-2" id="text-2">

<p>While little care is needed when producing text for HTML documents, adding the images frequently requires more thought. Some of the more common problems are:
</p><dl>
<dt>Performance Problems</dt><dd>Each image in an HTML document requires a separate connection from your browser to a web server. As creating connections is time consuming, images can slow down the web browser and the web server.<sup><a class="footref" name="fnr.1" href="#fn.1">1</a></sup> 
</dd>
<dt>Security And Privacy Problems</dt><dd>It is hard to imagine that any email user hasn't seen a warning about emails with images at least once. The security and privacy concerns are a bit on the complex side and definitely too long to include in an article about data URIs. If you are interested, you can read about some of the <a href="http://bit.ly/KYQ7gM">security problems</a> and some of the <a href="http://bit.ly/KYS0Kc">privacy concerns</a> on your own.
</dd>
<dt>The Infamous Broken Image Link</dt><dd>This is typically what breaks images in email signatures. The image is frequently displayed with a broken link image such as:
</dd>
</dl>


<div style="text-align: center">
<p><img src="http://2.bp.blogspot.com/_6n2qeGZ5fCc/TBIpcIA53GI/AAAAAAAAAO4/c9btzXsSi-Q/s400/404.jpg"  alt="http://2.bp.blogspot.com/_6n2qeGZ5fCc/TBIpcIA53GI/AAAAAAAAAO4/c9btzXsSi-Q/s400/404.jpg" />
</p>
</div>



<!-- more -->

</div>

</div>

<div id="outline-container-3" class="outline-2">
<h2 id="sec-3">Using Data URIs</h2>
<div class="outline-text-2" id="text-3">

<p>I'm not going to describe the algorithm for creating data URIs, only how to use them. You can read the<a href="http://bit.ly/KYNdbU">Wikipedia's page</a> on data URIs if you want to do more than know how to use data URIs.
</p>
<p>
As I mentioned, I am particularly fond of data URIs for images. For example, the typical way to display an image in an HTML document is with HTML that resembles:
</p>


<pre class="example">&lt;img height="16" width="16" alt="S" src="http://www.neilsmithline.com/favicon.png"/&gt;
</pre>

<p>
In an HTML page, this appears as: <img src="http://www.neilsmithline.com/favicon.png"  alt="http://www.neilsmithline.com/favicon.png" />
</p>
<p>
To convert the <code>favicon.png</code> image into a data URI, you need to save a copy of it to your local drive. Once you have done that, go to the (appropriately named) page: <a href="http://dataurl.net/#dataurlmaker">http://dataurl.net/#dataurlmaker</a> and follow the instructions for uploading the image to the page. 
</p>
<p>
<a href="http://bit.ly/O23Foc">Don't Panic</a>. The results look ugly but they are easy to use.
</p>
<p>
Copy the entire contents of the data URI box from the browser and replace the <i>src</i> URL with the data URI. For the above example of the "S" <a href="http://bit.ly/MUyUU7">keycap</a>, the HTML looks like:
</p>


<pre class="example">&lt;img height="16" width="16" alt="S" 
     src="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABAAAAAQCAYAAAA
    f8/9hAAACvklEQVQ4jU2STWiUVxSGn3Pu/Zy/xomtVRFLVagR1HFjNkl0I4rutLvuum
    kLRlJEBNNFQajbKhUr2rpyU5cKQruLERGjY7BKEMEUtCkmM0YziWMm8917uvgyrRcud
    3G453nPe15p9vZ+snDy2A+pSXmxq/hhe9P6MoC9qqVEU/2gy6xY9Dr/NqjkVsRoqs9f
    TH189vyprpGRW/Ls4d17rCztajYXMBNUPGZGCJHJyUm892zc+CnOK2YpIQQmn71gVXl
    da/uvl7/wi0myQVptMI9TIUlWUK2O893w9/T0fEYIgSdPnvLb1St0ryojoqStRerT/+
    Re79v7pRcBAZxzmBkAZ378ieHhE+ze0w9Aq7VEknicOmKIYEaMgZgrrPZmlogIIgKSF
    UII/D01haoh4igWC1m9c4QMJqAdqoigIojA0NARfj5/kYH+fRwdPMbt23cQEZxzJEny
    Xx+ziBqkHQWiiojQ19/HzdHfufTLOXbs2M63Q8epVsdJkgTvPRgYYDHi4X1luqwGcrk
    ilcpOKpWdvJmb497YfQYG+nDOAYaZYYAK2Ty6TFdVrl+/wezsLACNRoMH1XF6tm5Z/v
    w/HYv4GCOqHXJmVL1W5+uvBmk05ikU8hz+/BAHD+zHGUjmHQAhisqfj8ZeOufX5vN5z
    IyOH+83VVVUBC9KCIHR0RFC6qjgxrwZ1Gs1Eu8pFUs47xAyx1U1S2UMxBBJ220mJiaY
    rdXo/mgdZohfai/52vQ0jx89ptFoICIYhpC9McTMsOUbQmB1uZt8qRvLlUTna/WFmek
    ZWu/eoQKCQcwCZSEigBoo4ETw6njbbDI39wZTUb/52h+Xnm7rOV0qlEjTNEtZNKJTwF
    AD7xwgCJKtUB1r16yhgM2IQf6vCxfOvertPRBCNEEQFYsuW4lHTVFEwCzLiKdNaWH++
    YZvBof+BUZhR/TXBVQQAAAAAElFTkSuQmCC"/&gt;
</pre>


<p>
Note that I have inserted newlines to make the example fit in my blog's theme. In your HTML code you must paste the entire data URI in a single line.
</p>
<p>
While the HTML code now looks awfully messy, it produces the same output: 
<img height="16" width="16" alt="S" src="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABAAAAAQCAYAAAAf8/9hAAACvklEQVQ4jU2STWiUVxSGn3Pu/Zy/xomtVRFLVagR1HFjNkl0I4rutLvuumkLRlJEBNNFQajbKhUr2rpyU5cKQruLERGjY7BKEMEUtCkmM0YziWMm8917uvgyrRcud3G453nPe15p9vZ+snDy2A+pSXmxq/hhe9P6MoC9qqVEU/2gy6xY9Dr/NqjkVsRoqs9fTH189vyprpGRW/Ls4d17rCztajYXMBNUPGZGCJHJyUm892zc+CnOK2YpIQQmn71gVXlda/uvl7/wi0myQVptMI9TIUlWUK2O893w9/T0fEYIgSdPnvLb1St0ryojoqStRerT/+Re79v7pRcBAZxzmBkAZ378ieHhE+ze0w9Aq7VEknicOmKIYEaMgZgrrPZmlogIIgKSFUII/D01haoh4igWC1m9c4QMJqAdqoigIojA0NARfj5/kYH+fRwdPMbt23cQEZxzJEnyXx+ziBqkHQWiiojQ19/HzdHfufTLOXbs2M63Q8epVsdJkgTvPRgYYDHi4X1luqwGcrkilcpOKpWdvJmb497YfQYG+nDOAYaZYYAK2Ty6TFdVrl+/wezsLACNRoMH1XF6tm5Z/vw/HYv4GCOqHXJmVL1W5+uvBmk05ikU8hz+/BAHD+zHGUjmHQAhisqfj8ZeOufX5vN5zIyOH+83VVVUBC9KCIHR0RFC6qjgxrwZ1Gs1Eu8pFUs47xAyx1U1S2UMxBBJ220mJiaYrdXo/mgdZohfai/52vQ0jx89ptFoICIYhpC9McTMsOUbQmB1uZt8qRvLlUTna/WFmekZWu/eoQKCQcwCZSEigBoo4ETw6njbbDI39wZTUb/52h+Xnm7rOV0qlEjTNEtZNKJTwFAD7xwgCJKtUB1r16yhgM2IQf6vCxfOvertPRBCNEEQFYsuW4lHTVFEwCzLiKdNaWH++YZvBof+BUZhR/TXBVQQAAAAAElFTkSuQmCC"/>

While they look the same, you can tell they are different by right-clicking on the second "S" and selecting "Copy Image Location" in Firefox or "Copy Image URL" in Chrome. Then paste the clipboard into your favorite editor and you'll see that they don't look at all the same.
</p>
</div>

</div>

<div id="outline-container-4" class="outline-2">
<h2 id="sec-4">Data URI Tradeoffs</h2>
<div class="outline-text-2" id="text-4">

<p>Alas, the benefits of data URIs are not free. Ironically, the main problem with data URIs is performance, one of the advantages of using data URIs.
</p>
<ul>
<li>
</li>
</ul>


<div id='footnotes'>
<h4 class='footnotes'>Footnotes: </h4>
<div id='text-footnotes'>
<p class="footnote"><sup><a class="footnum" name="fn.1" href="#fnr.1">1</a></sup> It should be noted that the performance problem isn't really inherent in HTML. Rather, the problem stems from the network protocols: <a href="http://bit.ly/KYPdkh">HTTP</a> and <a href="http://bit.ly/KYPdAU">HTTPS</a>. A new network protocol, <a href="http://bit.ly/KYOAXY">SPDY</a>, designed by <a href="http://bit.ly/LUUGHN">Google</a> and currently supported in <a href="http://bit.ly/LUUHLP">Chrome</a> and <a href="http://bit.ly/KYPl36">Firefox</a>, will fix this problem. At this point in time, SPDY is not an official standard though it is being considered for standardization by the IETF as a starting point for <a href="http://bit.ly/KYPtQk">HTTP 2.0</a>.
</p>



</div>
</div>

</div>
</div>
</div>

</body>
</html>
